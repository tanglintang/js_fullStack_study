<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>京东到家</title>
    <!-- base.css => reset 基础样式 -->
    <!-- loading.css 为了加载资源 -->
    <!-- main.css 主页务 -->
    <link rel="stylesheet" href="./base.css">
    <link rel="stylesheet" href="./loading.css">
    <link rel="stylesheet" href="./main.css">

    <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
</head>
<body>
    <!-- <div class="box">
        <img src="https://pic.36krcnd.com/201805/09093428/n1zzkta25qikkhbu!heading
        " alt="">
        每日优鲜便利购李漾：风口只帮助加速，不决定成败
    </div>
    <input type="text" name="" id="" placeholder="输入你要去的城市"> -->
    <div id="o2_loading" class="loading">
        <div class="inner">
            <i class="before"></i>
            <i class="after"></i>
        </div>
        <div class="text">loading</div>
    </div>
    <div id="o2_main" class="main hide">
        <div class="page_wrap__s">
            <div class="page p8" id="page">
                <div class="page_scene">
                    <div class="page_key"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // DOM Ready 完成
        $(function() {
            // 预加载器 Preloader 去cdn 找一个？
            // 资源：音乐、图片、视频
            // 使用 npm 来安装
            const preloader = new Preloader({
                resource: [
                    'img/p8.png'
                ],
                // 同时下载数量
                concurrency: 4,
                perMintime: 1000
            })

            preloader.addCompletionListener(function() {
                // 将 loading 删除
                // 显示 main
                $('#o2_loading').remove()
                $('#o2_main').removeClass('hide')

                init()
            })
            
            function init() {
                console.log('init')
            }

            preloader.start()
        })
    </script>

<script src="./node_modules/preloader.js/src/preloader.js"></script>
</body>
</html>